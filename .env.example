# Copy this file to .env and customize for your environment
# DO NOT commit .env to version control!

# JWT Secret for authentication (change in production!)
JWT_SECRET=your-super-secret-jwt-key-change-this-in-production

# Server Configuration
SERVER_HOST=0.0.0.0
SERVER_PORT=8080
SERVER_ADMIN_PORT=9090
SERVER_READ_TIMEOUT=30s
SERVER_WRITE_TIMEOUT=30s

# CORS Configuration
# Comma-separated list of allowed origins for CORS
# Use "*" to allow all origins (not recommended for production)
# Examples:
#   CORS_ALLOW_ORIGIN=*
#   CORS_ALLOW_ORIGIN=http://localhost:3000
#   CORS_ALLOW_ORIGIN=http://localhost:3000,https://example.com,https://app.example.com
CORS_ALLOW_ORIGIN=http://localhost:3000

# Database Configuration
DATABASE_DRIVER=postgres
DATABASE_HOST=postgres
DATABASE_PORT=5432
DATABASE_NAME=docode_waf
DATABASE_USER=waf_user
DATABASE_PASSWORD=waf_password
DATABASE_SSLMODE=disable

# Redis Configuration
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DB=0
REDIS_POOL_SIZE=10

# WAF Configuration - Rate Limiting
WAF_RATE_LIMIT_ENABLED=true
WAF_RATE_LIMIT_RPS=100
WAF_RATE_LIMIT_BURST=200

# WAF Configuration - HTTP Flood Protection
WAF_HTTP_FLOOD_ENABLED=true
WAF_HTTP_FLOOD_MAX_RPM=1000
WAF_HTTP_FLOOD_BLOCK_DURATION=300

# WAF Configuration - Anti Bot
WAF_ANTI_BOT_ENABLED=true
WAF_ANTI_BOT_CHALLENGE_MODE=js

# WAF Configuration - GeoIP (Optional)
WAF_GEOIP_ENABLED=false
WAF_GEOIP_DATABASE_PATH=./geoip/GeoLite2-Country.mmdb

# SSL Configuration
SSL_AUTO_CERT=false
SSL_CERT_DIR=./certs

# Logging Configuration
LOG_LEVEL=info
LOG_FORMAT=json
LOG_OUTPUT=stdout
LOG_FILE_PATH=./logs/waf.log

# Cloudflare Turnstile Configuration
# Test Keys (Force Interactive - requires user interaction):
# - Always Pass: 1x00000000000000000000AA / 1x0000000000000000000000000000000AA
# - Always Block: 2x00000000000000000000AB / 2x0000000000000000000000000000000AB
# - Force Interactive: 3x00000000000000000000FF / 3x0000000000000000000000000000000FF (recommended for testing)
# For production, get real keys from: https://dash.cloudflare.com/?to=/:account/turnstile
TURNSTILE_SITE_KEY=3x00000000000000000000FF
TURNSTILE_SECRET_KEY=3x0000000000000000000000000000000FF

# Google reCAPTCHA v2 Configuration (Checkbox - "I'm not a robot")
# Test Keys (always pass for development):
# - Site Key: 6LeIxAcTAAAAAJcZVRqyHh71UMIEGNQ_MXjiZKhI
# - Secret Key: 6LeIxAcTAAAAAGG-vFI1TnRWxMZNFuojJ4WifJWe
# For production, get real keys from: https://www.google.com/recaptcha/admin
RECAPTCHA_SITE_KEY=6LeIxAcTAAAAAJcZVRqyHh71UMIEGNQ_MXjiZKhI
RECAPTCHA_SECRET_KEY=6LeIxAcTAAAAAGG-vFI1TnRWxMZNFuojJ4WifJWe

# Google reCAPTCHA v3 Configuration (Invisible - Score based 0.0-1.0)
# Test Keys (same as v2 for development):
# - Site Key: 6LeIxAcTAAAAAJcZVRqyHh71UMIEGNQ_MXjiZKhI
# - Secret Key: 6LeIxAcTAAAAAGG-vFI1TnRWxMZNFuojJ4WifJWe
# For production, get real keys from: https://www.google.com/recaptcha/admin (select v3)
RECAPTCHA_V3_SITE_KEY=6LeIxAcTAAAAAJcZVRqyHh71UMIEGNQ_MXjiZKhI
RECAPTCHA_V3_SECRET_KEY=6LeIxAcTAAAAAGG-vFI1TnRWxMZNFuojJ4WifJWe